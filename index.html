HTML
<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞: –ü–µ—Ä–ø–µ–Ω–¥–∏–∫—É–ª—è—Ä —ñ –ø–æ—Ö–∏–ª–∞</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body { font-family: 'Segoe UI', sans-serif; background-color: #f0f2f5; padding: 20px; display: flex; flex-direction: column; align-items: center; }
        .quiz-container { max-width: 600px; width: 100%; background: white; padding: 30px; border-radius: 20px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); }
        .question { background: #f8f9fa; padding: 15px; border-radius: 12px; margin-bottom: 15px; border-left: 5px solid #0088cc; }
        input[type="number"] { width: 100%; padding: 10px; margin-top: 10px; border: 2px solid #ddd; border-radius: 8px; box-sizing: border-box; font-size: 16px; }
        .submit-btn { width: 100%; padding: 15px; background: #0088cc; color: white; border: none; border-radius: 12px; font-size: 18px; cursor: pointer; transition: 0.3s; margin-top: 10px; }
        .submit-btn:hover { background: #006699; }
        
        /* –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä */
        .calc-wrapper { background: #1a1a1a; padding: 15px; border-radius: 15px; margin-bottom: 25px; color: white; width: 100%; box-sizing: border-box; }
        .calc-display { width: 100%; height: 45px; background: #333; border-radius: 5px; border: 1px solid #444; margin-bottom: 10px; text-align: right; padding: 5px 15px; font-size: 1.4rem; color: #00ff00; box-sizing: border-box; font-family: monospace; }
        .calc-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 8px; }
        .calc-btn { padding: 12px; border: none; border-radius: 8px; cursor: pointer; font-weight: bold; font-size: 16px; background: #4a4a4a; color: white; }
        .calc-btn.op { background: #f39c12; }
        .calc-btn.spec { background: #2980b9; }
        .calc-btn.clear { background: #c0392b; }
        .calc-btn:active { transform: scale(0.95); }

        #fail-screen { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #ff4444; color: white; flex-direction: column; align-items: center; justify-content: center; z-index: 9999; text-align: center; padding: 20px; }
    </style>
</head>
<body>

<div id="fail-screen">
    <h1 style="font-size: 3rem;">–¢–ï–°–¢ –ü–†–û–í–ê–õ–ï–ù–û</h1>
    <p id="fail-reason" style="font-size: 1.5rem;"></p>
    <p>–°–ø—Ä–æ–±–∞ –∑–∞—Ñ—ñ–∫—Å–æ–≤–∞–Ω–∞ –¥–ª—è –≤—á–∏—Ç–µ–ª—è (ID: 5250364592).</p>
</div>

<div class="quiz-container" id="quiz-ui">
    <h2 style="text-align: center;">üìê –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞ —Ä–æ–±–æ—Ç–∞</h2>
    <p style="text-align: center; color: #666; margin-bottom: 20px;">–¢–µ–º–∞: –ü–µ—Ä–ø–µ–Ω–¥–∏–∫—É–ª—è—Ä, –ø–æ—Ö–∏–ª–∞ —Ç–∞ –ø—Ä–æ—î–∫—Ü—ñ—è</p>

    <div class="calc-wrapper">
        <input type="text" id="calc-display" class="calc-display" placeholder="0" readonly>
        <div class="calc-grid">
            <button class="calc-btn clear" onclick="cClear()">C</button>
            <button class="calc-btn spec" onclick="cSquare()">x¬≤</button>
            <button class="calc-btn spec" onclick="cSqrt()">‚àö</button>
            <button class="calc-btn spec" onclick="cSin()">sin¬∞</button>
            
            <button class="calc-btn" onclick="cAdd('7')">7</button>
            <button class="calc-btn" onclick="cAdd('8')">8</button>
            <button class="calc-btn" onclick="cAdd('9')">9</button>
            <button class="calc-btn op" onclick="cAdd('/')">/</button>
            
            <button class="calc-btn" onclick="cAdd('4')">4</button>
            <button class="calc-btn" onclick="cAdd('5')">5</button>
            <button class="calc-btn" onclick="cAdd('6')">6</button>
            <button class="calc-btn op" onclick="cAdd('*')">*</button>
            
            <button class="calc-btn" onclick="cAdd('1')">1</button>
            <button class="calc-btn" onclick="cAdd('2')">2</button>
            <button class="calc-btn" onclick="cAdd('3')">3</button>
            <button class="calc-btn op" onclick="cAdd('-')">-</button>
            
            <button class="calc-btn" onclick="cAdd('0')">0</button>
            <button class="calc-btn" onclick="cAdd('.')">.</button>
            <button class="calc-btn op" onclick="cSolve()">=</button>
            <button class="calc-btn op" onclick="cAdd('+')">+</button>
        </div>
    </div>

    <div class="question">
        <p><strong>1.</strong> –ü–µ—Ä–ø–µ–Ω–¥–∏–∫—É–ª—è—Ä 12 —Å–º, –ø–æ—Ö–∏–ª–∞ 13 —Å–º. –ó–Ω–∞–π–¥—ñ—Ç—å –ø—Ä–æ—î–∫—Ü—ñ—é (—Å–º).</p>
        <input type="number" id="q1" placeholder="–í–≤–µ–¥—ñ—Ç—å –≤—ñ–¥–ø–æ–≤—ñ–¥—å">
    </div>

    <div class="question">
        <p><strong>2.</strong> –ü–æ—Ö–∏–ª–∞ 20 —Å–º —É—Ç–≤–æ—Ä—é—î –∑ –ø–ª–æ—â–∏–Ω–æ—é –∫—É—Ç 30¬∞. –ó–Ω–∞–π–¥—ñ—Ç—å –¥–æ–≤–∂–∏–Ω—É –ø–µ—Ä–ø–µ–Ω–¥–∏–∫—É–ª—è—Ä–∞ (—Å–º).</p>
        <input type="number" id="q2" placeholder="–í–≤–µ–¥—ñ—Ç—å –≤—ñ–¥–ø–æ–≤—ñ–¥—å">
    </div>

    <div class="question">
        <p><strong>3.</strong> –ü—Ä–æ—î–∫—Ü—ñ—è –ø–æ—Ö–∏–ª–æ—ó 8 —Å–º, –ø–µ—Ä–ø–µ–Ω–¥–∏–∫—É–ª—è—Ä 15 —Å–º. –ó–Ω–∞–π–¥—ñ—Ç—å –¥–æ–≤–∂–∏–Ω—É –ø–æ—Ö–∏–ª–æ—ó (—Å–º).</p>
        <input type="number" id="q3" placeholder="–í–≤–µ–¥—ñ—Ç—å –≤—ñ–¥–ø–æ–≤—ñ–¥—å">
    </div>

    <div class="question">
        <p><strong>4.</strong> –î–≤—ñ –ø–æ—Ö–∏–ª—ñ 10 —Å–º —ñ 17 —Å–º –≤–∏—Ö–æ–¥—è—Ç—å –∑ –æ–¥–Ω—ñ—î—ó —Ç–æ—á–∫–∏. –û–¥–Ω–∞ –∑ —ó—Ö –ø—Ä–æ—î–∫—Ü—ñ–π –Ω–∞ 9 —Å–º –±—ñ–ª—å—à–∞ –∑–∞ —ñ–Ω—à—É. –ó–Ω–∞–π–¥—ñ—Ç—å –¥–æ–≤–∂–∏–Ω—É –ø–µ—Ä–ø–µ–Ω–¥–∏–∫—É–ª—è—Ä–∞ (—Å–º).</p>
        <input type="number" id="q4" placeholder="–í–≤–µ–¥—ñ—Ç—å –≤—ñ–¥–ø–æ–≤—ñ–¥—å">
    </div>

    <div class="question">
        <p><strong>5.</strong> –ü–µ—Ä–ø–µ–Ω–¥–∏–∫—É–ª—è—Ä –¥–æ—Ä—ñ–≤–Ω—é—î 4 —Å–º. –ó–Ω–∞–π–¥—ñ—Ç—å –¥–æ–≤–∂–∏–Ω—É –ø–æ—Ö–∏–ª–æ—ó, —è–∫–∞ –Ω–∞—Ö–∏–ª–µ–Ω–∞ –¥–æ –ø–ª–æ—â–∏–Ω–∏ –ø—ñ–¥ –∫—É—Ç–æ–º 45¬∞ (–æ–∫—Ä—É–ª—ñ—Ç—å –¥–æ —Ü—ñ–ª–æ–≥–æ: $\sqrt{32} \approx 6$).</p>
        <input type="number" id="q5" placeholder="–í–≤–µ–¥—ñ—Ç—å –≤—ñ–¥–ø–æ–≤—ñ–¥—å">
    </div>

    <div class="question">
        <p><strong>6.</strong> –í—ñ–¥—Å—Ç–∞–Ω—å –≤—ñ–¥ —Ç–æ—á–∫–∏ –¥–æ –ø–ª–æ—â–∏–Ω–∏ 6 —Å–º. –ó–Ω–∞–π–¥—ñ—Ç—å –¥–æ–≤–∂–∏–Ω—É –ø—Ä–æ—î–∫—Ü—ñ—ó, —è–∫—â–æ —Å–∞–º–∞ –ø–æ—Ö–∏–ª–∞ –¥–æ—Ä—ñ–≤–Ω—é—î 10 —Å–º.</p>
        <input type="number" id="q6" placeholder="–í–≤–µ–¥—ñ—Ç—å –≤—ñ–¥–ø–æ–≤—ñ–¥—å">
    </div>

    <button class="submit-btn" onclick="finishTest()">–ó–¥–∞—Ç–∏ —Ä–æ–±–æ—Ç—É</button>
</div>

<script>
    const tg = window.Telegram.WebApp;
    tg.expand();

    // –ó–∞—Ö–∏—Å—Ç: –≤–∏—Ö—ñ–¥ —ñ–∑ –≤—ñ–∫–Ω–∞
    function blockTest(reason) {
        document.getElementById('quiz-ui').style.display = 'none';
        document.getElementById('fail-screen').style.display = 'flex';
        document.getElementById('fail-reason').innerText = "Test failed: " + reason;
        tg.sendData(JSON.stringify({"status": "failed", "reason": reason}));
        setTimeout(() => { tg.close(); }, 3000);
    }

    window.onblur = () => blockTest("–°–ø—Ä–æ–±–∞ –≤–∏—Ö–æ–¥—É –∑ —Ç–µ—Å—Ç—É");

    // –§—É–Ω–∫—Ü—ñ—ó –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞
    const cDisp = document.getElementById('calc-display');
    function cAdd(v) { cDisp.value += v; }
    function cClear() { cDisp.value = ''; }
    function cSolve() { try { cDisp.value = eval(cDisp.value); } catch { cDisp.value = 'Error'; } }
    function cSqrt() { if(cDisp.value) cDisp.value = Math.sqrt(eval(cDisp.value)).toFixed(2); }
    function cSquare() { if(cDisp.value) cDisp.value = Math.pow(eval(cDisp.value), 2); }
    function cSin() { 
        if(cDisp.value) {
            let deg = eval(cDisp.value);
            cDisp.value = Math.sin(deg * Math.PI / 180).toFixed(4);
        }
    }

    // –ó–∞–≤–µ—Ä—à–µ–Ω–Ω—è —Ç–µ—Å—Ç—É
    function finishTest() {
        let score = 0;
        if (document.getElementById('q1').value == "5") score += 2;
        if (document.getElementById('q2').value == "10") score += 2;
        if (document.getElementById('q3').value == "17") score += 2;
        if (document.getElementById('q4').value == "8") score += 2;
        if (document.getElementById('q5').value == "6") score += 2;
        if (document.getElementById('q6').value == "8") score += 2;

        tg.sendData(JSON.stringify({
            "status": "completed", 
            "score": score, 
            "teacher_id": "5250364592"
        }));
        
        alert("–î—è–∫—É—é! –í–∞—à—É —Ä–æ–±–æ—Ç—É –Ω–∞–¥—ñ—Å–ª–∞–Ω–æ –≤—á–∏—Ç–µ–ª—é.");
        tg.close();
    }
</script>
</body>
</html>


