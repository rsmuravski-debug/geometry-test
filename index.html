<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞: –ü–µ—Ä–ø–µ–Ω–¥–∏–∫—É–ª—è—Ä —ñ –ø–æ—Ö–∏–ª–∞</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body { font-family: 'Segoe UI', sans-serif; background-color: #f0f2f5; padding: 20px; display: flex; justify-content: center; }
        .quiz-container { max-width: 600px; width: 100%; background: white; padding: 30px; border-radius: 20px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); }
        .question { background: #f8f9fa; padding: 15px; border-radius: 12px; margin-bottom: 15px; border-left: 5px solid #0088cc; }
        input { width: 100%; padding: 10px; margin-top: 10px; border: 2px solid #ddd; border-radius: 8px; }
        .submit-btn { width: 100%; padding: 15px; background: #0088cc; color: white; border: none; border-radius: 12px; font-size: 18px; cursor: pointer; }
        #fail-screen { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #ff4444; color: white; flex-direction: column; align-items: center; justify-content: center; z-index: 9999; text-align: center; }
    </style>
</head>
<body>

<div id="fail-screen">
    <h1 style="font-size: 3rem;">–¢–ï–°–¢ –ü–†–û–í–ê–õ–ï–ù–û</h1>
    <p id="fail-reason" style="font-size: 1.5rem;"></p>
    <p>–°–ø—Ä–æ–±–∞ –∑–∞—Ñ—ñ–∫—Å–æ–≤–∞–Ω–∞. –í—á–∏—Ç–µ–ª—å –æ—Ç—Ä–∏–º–∞–≤ —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è.</p>
</div>

<div class="quiz-container" id="quiz-ui">
    <h2 style="text-align: center;">üìê –¢–µ—Å—Ç: 6 –∑–∞–≤–¥–∞–Ω—å</h2>
    
    <div class="question">
        <p>1. –ü–µ—Ä–ø–µ–Ω–¥–∏–∫—É–ª—è—Ä 12 —Å–º, –ø–æ—Ö–∏–ª–∞ 13 —Å–º. –ó–Ω–∞–π–¥—ñ—Ç—å –ø—Ä–æ—î–∫—Ü—ñ—é (—Å–º).</p>
        <input type="number" id="q1">
    </div>

    <div class="question">
        <p>2. –ü–æ—Ö–∏–ª–∞ 20 —Å–º —É—Ç–≤–æ—Ä—é—î –∑ –ø–ª–æ—â–∏–Ω–æ—é –∫—É—Ç 30¬∞. –ó–Ω–∞–π–¥—ñ—Ç—å –ø–µ—Ä–ø–µ–Ω–¥–∏–∫—É–ª—è—Ä (—Å–º).</p>
        <input type="number" id="q2">
    </div>

    <div class="question">
        <p>3. –ü—Ä–æ—î–∫—Ü—ñ—è –ø–æ—Ö–∏–ª–æ—ó 8 —Å–º, –ø–µ—Ä–ø–µ–Ω–¥–∏–∫—É–ª—è—Ä 15 —Å–º. –ó–Ω–∞–π–¥—ñ—Ç—å –ø–æ—Ö–∏–ª—É (—Å–º).</p>
        <input type="number" id="q3">
    </div>

    <div class="question">
        <p>4. –î–≤—ñ –ø–æ—Ö–∏–ª—ñ 10 —Å–º —ñ 17 —Å–º –º–∞—é—Ç—å –ø—Ä–æ—î–∫—Ü—ñ—ó, –æ–¥–Ω–∞ –∑ —è–∫–∏—Ö –Ω–∞ 9 —Å–º –±—ñ–ª—å—à–∞ –∑–∞ —ñ–Ω—à—É. –ó–Ω–∞–π–¥—ñ—Ç—å –¥–æ–≤–∂–∏–Ω—É –ø–µ—Ä–ø–µ–Ω–¥–∏–∫—É–ª—è—Ä–∞ (—Å–º).</p>
        <input type="number" id="q4">
    </div>

    <div class="question">
        <p>5. –ó —Ç–æ—á–∫–∏ –¥–æ –ø–ª–æ—â–∏–Ω–∏ –ø—Ä–æ–≤–µ–¥–µ–Ω–æ –ø–µ—Ä–ø–µ–Ω–¥–∏–∫—É–ª—è—Ä –¥–æ–≤–∂–∏–Ω–æ—é 4 —Å–º. –ó–Ω–∞–π–¥—ñ—Ç—å –¥–æ–≤–∂–∏–Ω—É –ø–æ—Ö–∏–ª–æ—ó, —è–∫–∞ –Ω–∞—Ö–∏–ª–µ–Ω–∞ –¥–æ –ø–ª–æ—â–∏–Ω–∏ –ø—ñ–¥ –∫—É—Ç–æ–º 45¬∞ (—Å–º, –æ–∫—Ä—É–≥–ª—ñ—Ç—å –¥–æ —Ü—ñ–ª–æ–≥–æ, —è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ, –∞–±–æ –∑–∞–ø–∏—à—ñ—Ç—å –∫–æ—Ä—ñ–Ω—å —è–∫ —á–∏—Å–ª–æ, sqrt(32) ‚âà 6).</p>
        <input type="number" id="q5">
    </div>

    <div class="question">
        <p>6. –í—ñ–¥—Å—Ç–∞–Ω—å –≤—ñ–¥ —Ç–æ—á–∫–∏ –¥–æ –ø–ª–æ—â–∏–Ω–∏ 6 —Å–º. –ó–Ω–∞–π–¥—ñ—Ç—å –¥–æ–≤–∂–∏–Ω—É –ø—Ä–æ—î–∫—Ü—ñ—ó –ø–æ—Ö–∏–ª–æ—ó, —è–∫—â–æ —Å–∞–º–∞ –ø–æ—Ö–∏–ª–∞ 10 —Å–º.</p>
        <input type="number" id="q6">
    </div>

    <button class="submit-btn" onclick="finishTest()">–ó–¥–∞—Ç–∏ —Ä–æ–±–æ—Ç—É</button>
</div>

<script>
    const tg = window.Telegram.WebApp;
    tg.expand();

    function blockTest(reason) {
        document.getElementById('quiz-ui').style.display = 'none';
        document.getElementById('fail-screen').style.display = 'flex';
        document.getElementById('fail-reason').innerText = reason;
        tg.sendData(JSON.stringify({"status": "blocked", "reason": reason}));
        setTimeout(() => { tg.close(); }, 3000);
    }

    window.onblur = () => blockTest("–í–∏—Ö—ñ–¥ –∑ –≤—ñ–∫–Ω–∞");
    document.addEventListener("visibilitychange", () => { if (document.hidden) blockTest("–ó–≥–æ—Ä—Ç–∞–Ω–Ω—è"); });

    function finishTest() {
        let score = 0;
        if (document.getElementById('q1').value == "5") score += 2;
        if (document.getElementById('q2').value == "10") score += 2;
        if (document.getElementById('q3').value == "17") score += 2;
        if (document.getElementById('q4').value == "8") score += 2;
        if (document.getElementById('q5').value == "6") score += 2;
        if (document.getElementById('q6').value == "8") score += 2;

        tg.sendData(JSON.stringify({"status": "completed", "score": score}));
        tg.close();
    }
</script>
</body>
</html>

